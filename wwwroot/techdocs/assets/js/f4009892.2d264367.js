"use strict";(self.webpackChunktechdocs=self.webpackChunktechdocs||[]).push([[6687],{3927:(e,t,s)=>{s.r(t),s.d(t,{ContactUs:()=>E,default:()=>C});var r=s(6326);class o{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},n=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},i=async(e,t,s={})=>{const r=await fetch(a.origin+e,{method:"POST",headers:s,body:t}),n=await r.text(),i=new o(r.status,n);if(r.ok)return i;throw i},l=(e,t,s)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||"string"!=typeof s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},c=e=>e.webdriver||!e.languages||0===e.languages.length,u=()=>new o(451,"Unavailable For Headless Browser"),d=(e,t)=>{if((e=>!e.list?.length||!e.watchVariable)(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const s=(r=t,o=e.watchVariable,r instanceof FormData?r.get(o):r[o]);var r,o;return"string"==typeof s&&e.list.includes(s)},m=()=>new o(403,"Forbidden"),h=async(e,t,s)=>{if(!t.throttle||!s)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const r=t.id||e,o=await(async(e,t,s)=>{const r=Number(await s.get(e)||0);return t-Date.now()+r})(r,t.throttle,s);return o>0||(await s.set(r,Date.now().toString()),!1)},f=()=>new o(429,"Too Many Requests"),g=async(e,t,s,r)=>{const o=n(r),g=o.publicKey||a.publicKey,p=o.blockHeadless||a.blockHeadless,b=a.storageProvider||o.storageProvider,y={...a.blockList,...o.blockList},v={...a.limitRate,...o.limitRate};if(p&&c(navigator))return Promise.reject(u());const w=(e=>"string"==typeof e?document.querySelector(e):e)(s);l(g,e,t),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(w);const x=new FormData(w);return d(y,x)?Promise.reject(m()):await h(location.pathname,v,b)?Promise.reject(f()):(x.append("lib_version","4.4.1"),x.append("service_id",e),x.append("template_id",t),x.append("user_id",g),i("/api/v1.0/email/send-form",x))};var p,b=s(8954),y=new Uint8Array(16);function v(){if(!p&&!(p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(y)}const w=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const x=function(e){return"string"==typeof e&&w.test(e)};for(var j=[],N=0;N<256;++N)j.push((N+256).toString(16).substr(1));const S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=(j[e[t+0]]+j[e[t+1]]+j[e[t+2]]+j[e[t+3]]+"-"+j[e[t+4]]+j[e[t+5]]+"-"+j[e[t+6]]+j[e[t+7]]+"-"+j[e[t+8]]+j[e[t+9]]+"-"+j[e[t+10]]+j[e[t+11]]+j[e[t+12]]+j[e[t+13]]+j[e[t+14]]+j[e[t+15]]).toLowerCase();if(!x(s))throw TypeError("Stringified UUID is invalid");return s};const k=function(e,t,s){var r=(e=e||{}).random||(e.rng||v)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){s=s||0;for(var o=0;o<16;++o)t[s+o]=r[o];return t}return S(r)};var T=s(6870);const E=()=>{const[e,t]=(0,r.useState)(null),[s,o]=(0,r.useState)(0),[a,n]=(0,r.useState)(""),[i,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)([]),[h,f]=(0,r.useState)(""),[p,y]=(0,r.useState)(null),v=(0,r.useRef)();(0,r.useEffect)((()=>{const e=["https://localhost:44337/api/users","http://localhost:5146/api/users"];(async()=>{console.log("Fetching logged-in user..."),e.forEach((e=>{fetch(e+"/me",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then((async s=>{if(s.ok){const r=await s.json();if(console.log("Logged-in user details: ",r),t(r),w(r.userName)&&l(r.userName),r&&r.userName){const t=e+"/"+r.userName+"/messages",s=await fetch(`${t}`);if(s.ok){y(t);const e=await s.json();return void o(e)}}}else console.error("Error fetching logged-in user:",s.statusText)})).catch((e=>{console.error("Error fetching logged-in user or message count:",e)}))}))})()}),[]),(0,r.useEffect)((()=>{if(p){console.log("Saving message to database...",p);(async()=>{if(e&&e.userName)try{const e=await fetch(p);if(e.ok){const t=await e.json();m(t)}else console.error("Error fetching messages:",e.statusText)}catch(t){console.error("Error fetching messages:",t)}})()}}),[p]);const w=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),x=e=>{const{name:t,value:s}=e.target;"name"===t&&n(s),"email"===t&&l(s),"message"===t&&u(s)};return(0,T.jsx)(b.A,{title:"Contact Us",children:(0,T.jsxs)("div",{className:"flex flex-col items-center justify-center p-5 min-h-screen",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("h1",{children:"Your Messages"}),d.length>0?(0,T.jsx)("ul",{children:d.map((e=>(0,T.jsx)("li",{children:e.content},e.id)))}):(0,T.jsx)("p",{children:"No previous messages found"})]}),(0,T.jsxs)("div",{className:"p-4 rounded-lg shadow-md w-full max-w-xl text-center mb-5",children:[(0,T.jsx)("h1",{className:"text-3xl font-bold info p-3 rounded-lg",children:"Contact Us"}),e&&(0,T.jsxs)("h5",{className:"text-lg",children:["Hello, ",e.userName,"!"]}),s>0&&(0,T.jsxs)("h6",{className:"text-md mt-2",children:["You have contacted us ",s," times previously."]})]}),(0,T.jsxs)("form",{ref:v,onSubmit:t=>{if(t.preventDefault(),!a||!i||!c)return void f("Please fill in all fields.");if(!w(i))return void f("Please enter a valid email address.");f("");const r={id:k(),userName:e.userName,content:c,dateSent:(new Date).toISOString(),isRead:!1};console.log("Saving message to database:",r," via ",p),fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((async e=>{e.ok?(console.log("Message saved to database"),y(null),o(s+1),m([...d,r])):console.error("Error saving message to database:",e.statusText)})).catch((e=>{console.error("Error saving message to database:",e)})),g("service_9m1uuup","template_2ie8whg",v.current,{publicKey:"vVlEiwNEj0k6uzMt3"}).then((()=>{alert("Message Sent, We will get back to you shortly!"),console.log("Email send successfully..."),n(""),l(""),u("")}),(e=>{console.error("Email send failed...",e.text),alert("An error occurred, Please try again.")}))},className:"p-8 rounded-lg shadow-lg w-full max-w-xl space-y-6 border border-gray-200",children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-lg font-semibold mb-2",children:"Name"}),(0,T.jsx)("input",{className:"w-full p-3 border border-blue-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200",type:"text",name:"name",value:a,onChange:x,required:!0})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-lg font-semibold mb-2",children:"Email"}),(0,T.jsx)("input",{className:"w-full p-3 border border-blue-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200",type:"email",name:"email",value:i,onChange:x,required:!0})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("label",{className:"block text-lg font-semibold mb-2",children:"Message"}),(0,T.jsx)("textarea",{className:"w-full p-3 border border-blue-300 rounded-md focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 h-40 resize-vertical",name:"message",value:c,onChange:x,required:!0})]}),(0,T.jsx)("div",{className:"text-center",children:(0,T.jsx)("input",{className:"w-full py-3 bg-blue-500 font-semibold rounded-md hover:bg-blue-600 transition-colors cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-200",type:"submit",value:"Send"})})]})]})})},C=E}}]);