"use strict";(self.webpackChunktechdocs=self.webpackChunktechdocs||[]).push([[9290],{4385:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"outlines/devtools/dataformats/protobufjs/example","title":"Example in TypeScript","description":"Here\'s an example of how to define and use a Protocol Buffers message type in TypeScript using the protobufjs library:","source":"@site/docs/outlines/015-devtools/02-dataformats/005-protobufjs/02-example.md","sourceDirName":"outlines/015-devtools/02-dataformats/005-protobufjs","slug":"/outlines/devtools/dataformats/protobufjs/example","permalink":"/docs/outlines/devtools/dataformats/protobufjs/example","draft":false,"unlisted":false,"editUrl":"https://github.com/AliSafari-IT/asafarim/edit/main/techdocs/docs/outlines/015-devtools/02-dataformats/005-protobufjs/02-example.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Example in TypeScript"},"sidebar":"tutorialSidebar","previous":{"title":"Protocol Buffers","permalink":"/docs/outlines/devtools/dataformats/protobufjs/protobufjs"},"next":{"title":"MessagePack data format","permalink":"/docs/outlines/devtools/dataformats/msgpack-lite/msgpack"}}');var n=t(6870),r=t(5569);const a={sidebar_position:1,title:"Example in TypeScript"},i=void 0,c={},l=[];function d(e){const o={code:"code",em:"em",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.p,{children:["Here's an example of how to define and use a Protocol Buffers message type in TypeScript using the ",(0,n.jsx)(o.em,{children:"protobufjs"})," library:"]}),"\n",(0,n.jsx)(o.p,{children:"First, you need to install the library:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-javascript",children:"npm install protobufjs\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Then, you can define your message type in a ",(0,n.jsx)(o.em,{children:".proto"})," file, like this:"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-javascript",children:'syntax = "proto3";\r\n\r\nmessage Person {\r\n  string name = 1;\r\n  int32 age = 2;\r\n  repeated string email = 3;\r\n}\n'})}),"\n",(0,n.jsx)(o.p,{children:"This defines a simple message type called Person with three fields: name (a string), age (an integer), and email (a repeated string)."}),"\n",(0,n.jsx)(o.p,{children:"Next, you can use the protobufjs library to load your message type and create instances of it in your TypeScript code:"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-javascript",children:"import { load } from 'protobufjs';\r\n\r\n// Load the message type from the .proto file\r\nconst root = await load('path/to/person.proto');\r\n\r\n// Get a reference to the Person message type\r\nconst Person = root.lookupType('Person');\r\n\r\n// Create an instance of the Person message\r\nconst person = Person.create({\r\n  name: 'Alice',\r\n  age: 30,\r\n  email: ['alice@example.com'],\r\n});\r\n\r\n// Encode the message as a binary buffer\r\nconst buffer = Person.encode(person).finish();\r\n\r\n// Decode the binary buffer back into a Person message\r\nconst decodedPerson = Person.decode(buffer);\r\n\r\nconsole.log(decodedPerson); // { name: 'Alice', age: 30, email: ['alice@example.com'] }\n"})}),"\n",(0,n.jsx)(o.p,{children:"This code loads the Person message type from the .proto file using the load function, gets a reference to the type using lookupType, creates an instance of the message using create, encodes the message as a binary buffer using encode, decodes the binary buffer back into a Person message using decode, and finally logs the decoded message to the console."})]})}function p(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},5569:(e,o,t)=>{t.d(o,{R:()=>a,x:()=>i});var s=t(6326);const n={},r=s.createContext(n);function a(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);